---
title: 红黑树，B树， B+树，B*树
date: 2018-3-1 21:02:17
categories:
	- Java
tags:
	- Java
	- java集合
	- JDK
	- 数据结构
---

## B树
B树是一种多路搜索树
一棵m阶B树(balanced tree of order m)是一棵平衡的m路搜索树。它或者是空树，或者是满足下列性质的树：

* 根节点至少有两个子女
* 每个非根节点所包含的关键字个数j满足 [m/2] - 1 <= j <= m - 1
* 除根结点以外的所有结点（不包括叶子结点）的度数正好是关键字总数加1，故内部子树个数 k 满足：[m/2] <= k <= m ；
* 所有的叶子结点都位于同一层。

1. 关键字集合分布在整棵树中
2. 任何一个关键字只出现在一个节点中
3. 搜索可能在非叶子节点中结束
4. 搜索性能相当于多二叉搜索
5. 自动层次控制

# B+树
B+ 树是一种树数据结构，是一个n叉树，每个节点通常有多个孩子，一棵B+树包含根节点、内部节点和叶子节点。根节点可能是一个叶子节点，也可能是一个包含两个或两个以上孩子节点的节点。
B+ 树元素自底向上插入。

## 许多文件系统都是用B+树，MySQL里面的索引引擎 InnoDB就是使用的B+树
1. 有n棵子树的结点中含有n个关键字，每个关键字不保存数据，只用来索引，所有数据都保存在叶子节点。

2. 所有的叶子结点中包含了全部关键字的信息，及指向含这些关键字记录的指针，且叶子结点本身依关键字的大小自小而大顺序链接。

3. 所有的非终端结点可以看成是索引部分，结点中仅含其子树（根结点）中的最大（或最小）关键字。 
通常在B+树上有两个头指针，一个指向根结点，一个指向关键字最小的叶子结点。

1. B+树内节点不存储数据，所有 data 存储在叶节点导致查询时间复杂度固定为 log n。而B-树查询时间复杂度不固定，与 key 在树中的位置有关，最好为O(1)。
由于B+树所有的 data 域都在根节点，所以查询 key 为 50的节点必须从根节点索引到叶节点，时间复杂度固定为 O(log n)。

2. B+树叶节点两两相连可大大增加区间访问性，可使用在范围查询等，而B-树每个节点 key 和 data 在一起，则无法区间查找。
2.B+树叶节点两两相连可大大增加区间访问性，可使用在范围查询等，而B-树每个节点 key 和 data 在一起，则无法区间查找。

# 红黑树
两个最重要的特征
1. 节点都有颜色；
2. 在插入和删除的过程中，要遵循保持这些颜色的不同排列的规则。

## 红黑树主要规则呢 ？
1. 每个节点不是红色就是黑色的
2. 根节点总是黑色的
3. 如果一个节点是红色的，那么他的子节点一定是黑色的
从根节点到叶子节点的每条路径，含有相同数目的黑色节点
